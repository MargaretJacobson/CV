import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
from io import StringIO

# Parse the provided data
data_str = """days,ns_lower_confidence band,ns_point_estimate,ns_upper_credible set,brw_lower_confidence band,brw_point_estimate,brw_upper_credible set,target_lower_confidence band,target_point_estimate,target_upper_credible set
1,0.0207035005648351,0.105650737942089,0.190597975319342,-0.1001,-0.0077,0.0847,-0.0353,0.0321,0.0994
2,-0.0264319807881504,0.231391928867285,0.48921583852272,-0.1302,-0.0175,0.0952,-0.1334,0.0919,0.3172
3,-0.142564187788593,0.422142450540659,0.986849088869911,-0.1875,-0.0031,0.1813,-0.2584,0.1975,0.6534
4,-0.223776410156033,0.369363152905502,0.962502715967036,-0.2078,0.0169,0.2416,-0.3604,0.1335,0.6275
5,-0.368578618954593,0.306838820482816,0.982256259920224,-0.2515,-0.0105,0.2306,-0.3876,0.1339,0.6555
6,-0.490556616631234,0.137291566654528,0.765139749940289,-0.2894,-0.0431,0.2033,-0.4467,0.0273,0.5014
7,-0.39746801137284,0.194761589717505,0.78699119080785,-0.2496,-0.0062,0.2371,-0.4362,0.0394,0.515
8,-0.728997974671666,0.158670454714017,1.0463388840997,-0.486,-0.1327,0.2207,-0.9895,-0.1679,0.6538
9,-0.949390915395388,0.0508112265596702,1.05101336851473,-0.5531,-0.1624,0.2283,-1.1478,-0.2422,0.6633
10,-1.11795756484065,-0.0762401809570848,0.965477202926477,-0.5706,-0.1433,0.284,-1.2297,-0.3083,0.6131
11,-1.11969001418545,-0.0674896777844953,0.984710658616459,-0.5367,-0.0639,0.4088,-1.2049,-0.2759,0.653
12,-0.898339031970688,0.0735254045892805,1.04538984114925,-0.4799,-0.0243,0.4313,-1.1762,-0.2577,0.6608
13,-0.798345531558978,0.128005735796832,1.05435700315264,-0.4807,-0.0339,0.4129,-1.15,-0.2535,0.6431
14,-0.834294404736929,0.0434420318668893,0.921178468470707,-0.5124,-0.0813,0.3498,-1.1203,-0.2751,0.5701
15,-0.811909335844175,0.169264144727266,1.15043762529871,-0.6312,-0.1517,0.3278,-1.2705,-0.2851,0.7004
16,-0.910441191241513,0.214531427801583,1.33950404684468,-0.703,-0.1434,0.4163,-1.3903,-0.2681,0.854
17,-0.877735420425117,0.253249776722789,1.38423497387069,-0.6935,-0.1219,0.4496,-1.3855,-0.2539,0.8777
18,-0.980533626089405,0.114322948525488,1.20917952314038,-0.7005,-0.1085,0.4835,-1.4095,-0.3333,0.7428
19,-1.14336128859252,0.0460035498266035,1.23536838824573,-0.8012,-0.1794,0.4424,-1.5586,-0.3935,0.7717
20,-1.01969471911997,0.117614005660369,1.25492273044071,-0.7928,-0.1974,0.3981,-1.509,-0.377,0.7549
21,-1.1513762949768,0.018746481815434,1.18886925860767,-0.8075,-0.198,0.4115,-1.6062,-0.4577,0.6908
22,-1.05664772116188,0.0581218592214495,1.17289143960478,-0.7889,-0.1577,0.4735,-1.5847,-0.4758,0.633
23,-1.18893993051602,-0.0812198850467359,1.02650016042255,-0.7182,-0.053,0.6123,-1.5963,-0.5172,0.5618
24,-1.08454487721139,0.0305306490546793,1.14560617532075,-0.6573,0.0368,0.7308,-1.5877,-0.4791,0.6295
25,-1.18438449180665,-0.120652593698427,0.943079304409792,-0.6733,0.0243,0.722,-1.5867,-0.554,0.4787
26,-1.17161758080662,-0.161345661564913,0.84892625767679,-0.7185,-0.0592,0.6001,-1.5267,-0.561,0.4046
27,-1.19529506806816,-0.182903958858165,0.829487150351825,-0.661,0.0005,0.662,-1.5617,-0.6126,0.3366
28,-1.29063847473446,-0.348653987598384,0.593330499537695,-0.5982,0.0611,0.7204,-1.551,-0.7179,0.1152
29,-1.36581046589795,-0.423009215718168,0.519792034461612,-0.6696,0.0067,0.683,-1.5361,-0.7266,0.0829
30,-1.3266168418091,-0.369175252606188,0.588266336596721,-0.6406,0.0341,0.7089,-1.5386,-0.6971,0.1444
31,-1.36210355159055,-0.398427485918913,0.565248579752725,-0.635,0.0578,0.7506,-1.5675,-0.7179,0.1316
32,-1.38031139962737,-0.523474281038004,0.333362837551366,-0.542,0.1135,0.769,-1.4475,-0.7766,-0.1057
33,-1.78061000708903,-0.900463186636598,-0.0203163661841663,-0.6205,0.046,0.7125,-1.5541,-1,-0.4459
34,-1.74972814558788,-0.877992423480316,-0.00625670137274708,-0.6327,0.0129,0.6584,-1.5045,-0.9665,-0.4286
35,-1.86300530673152,-1,-0.136994693268483,-0.6797,-0.0579,0.5639,-1.4797,-0.9942,-0.5086
36,-1.72776716616832,-0.870302539615515,-0.0128379130627064,-0.6871,-0.0535,0.58,-1.4502,-0.9115,-0.3729
37,-1.66887522665499,-0.828705654445521,0.0114639177639458,-0.7602,-0.1364,0.4875,-1.4039,-0.877,-0.3501
38,-1.45238299218009,-0.740036634872811,-0.0276902775655305,-0.5316,-0.0029,0.5258,-1.0096,-0.6862,-0.3627
39,-1.31578581785969,-0.599045476469314,0.117694864921063,-0.4692,-0.0031,0.4629,-0.868,-0.5685,-0.269
40,-1.26321776084655,-0.500412059579191,0.26239364168817,-0.4388,-0.0085,0.4218,-0.804,-0.5214,-0.2389
41,-1.23723734422334,-0.510395337997744,0.216446668227851,-0.5534,-0.1094,0.3346,-0.8651,-0.562,-0.259
42,-1.29929801102385,-0.645691414578341,0.00791518186716908,-0.6402,-0.177,0.2863,-0.8677,-0.5675,-0.2673
43,-1.26545764762284,-0.634915492243599,-0.0043733368643594,-0.6537,-0.1817,0.2903,-0.8552,-0.5232,-0.1913
44,-1.08514454212422,-0.47909863824069,0.126947265642841,-0.5998,-0.1288,0.3421,-0.8023,-0.4355,-0.0687
45,-1.12655508364178,-0.586067998198104,-0.045580912754429,-0.4718,-0.0075,0.4567,-0.7244,-0.4135,-0.1026
46,-1.13007491351588,-0.63701624161324,-0.143957569710603,-0.5526,-0.1174,0.3177,-0.6325,-0.3785,-0.1245
47,-1.24125358739512,-0.735473623373334,-0.229693659351546,-0.5899,-0.1289,0.332,-0.6471,-0.38,-0.1129
48,-1.11076027360593,-0.622118326037643,-0.13347637846936,-0.5356,-0.0972,0.3412,-0.5706,-0.2993,-0.0279
49,-1.08227457334256,-0.606441458568388,-0.130608343794215,-0.526,-0.0976,0.3307,-0.4888,-0.2401,0.0086
50,-1.04310477658084,-0.548069856366441,-0.0530349361520434,-0.3811,0.1999,0.7808,-0.4774,-0.2221,0.0333
51,-0.973099236757134,-0.427175474062613,0.118748288631907,-0.3586,0.2445,0.8477,-0.4122,-0.1228,0.1667
52,-1.06520653177336,-0.493113257214393,0.0789800173445748,-0.5027,0.1104,0.7235,-0.4434,-0.1609,0.1217
53,-0.973049833681701,-0.405040623554292,0.162968586573117,-0.6021,-0.0277,0.5467,-0.4424,-0.1513,0.1399
54,-1.16619710591603,-0.575510133016904,0.0151768398822249,-0.5768,-0.0635,0.4497,-0.6604,-0.3141,0.0323
55,-1.11419638217618,-0.491621984885114,0.130952412405951,-0.6472,-0.1835,0.2802,-0.6499,-0.2715,0.1069
56,-1.17891646755817,-0.542429466526141,0.0940575345058829,-0.6844,-0.2114,0.2616,-0.622,-0.2484,0.1252
57,-1.20315602594786,-0.552783717396016,0.0975885911558303,-0.8332,-0.3547,0.1239,-0.6036,-0.2217,0.1601
58,-1.26685434298278,-0.56745382411865,0.131946694745476,-0.9605,-0.4585,0.0436,-0.6094,-0.1916,0.2261
59,-1.56974388060586,-0.75241355723604,0.0649167661337844,-0.9495,-0.4291,0.0913,-0.9271,-0.3911,0.1449
60,-1.64414965824857,-0.788284411454924,0.0675808353387209,-1.0238,-0.487,0.0498,-0.965,-0.4183,0.1283
61,-1.7917617722919,-0.88717732170646,0.0174071288789768,-1.0667,-0.5509,-0.0351,-0.9614,-0.4082,0.145
62,-1.75150534209373,-0.885796371376045,-0.0200874006583576,-1.1158,-0.6304,-0.145,-0.939,-0.4124,0.1143
63,-1.64090905994225,-0.820707101559082,-0.000505143175912231,-1.0968,-0.6161,-0.1355,-0.7632,-0.3139,0.1353
64,-1.49548394012629,-0.669154023365422,0.157175893395441,-1.1525,-0.6674,-0.1823,-0.6913,-0.2289,0.2334
65,-1.40985078542582,-0.584975033855104,0.239900717715613,-1.1765,-0.6784,-0.1804,-0.7112,-0.2321,0.2469
66,-1.56938108714631,-0.67872878714874,0.211923512848827,-1.2134,-0.7118,-0.2101,-0.9357,-0.3801,0.1756
67,-1.74969928840448,-0.752416037148402,0.244867214107671,-1.2221,-0.6891,-0.156,-1.1286,-0.4752,0.1783
68,-1.76013133245942,-0.787390194719163,0.185350943021091,-1.235,-0.7028,-0.1706,-1.074,-0.4624,0.1493
69,-1.73510733231868,-0.798291222930249,0.138524886458184,-1.2286,-0.6957,-0.1629,-1.0442,-0.4653,0.1135
70,-1.81037599056528,-0.842872348635832,0.124631293293616,-1.2612,-0.7347,-0.2083,-1.0922,-0.4906,0.1111
71,-1.55269140948637,-0.566685561809482,0.419320285867405,-1.2431,-0.707,-0.1709,-0.9495,-0.3179,0.3136
72,-1.40110368646207,-0.440711844805594,0.519679996850883,-1.2096,-0.6825,-0.1555,-0.9037,-0.2657,0.3724
73,-1.4473483527874,-0.503294483033548,0.440759386720303,-1.1578,-0.6313,-0.1047,-0.9389,-0.3255,0.2878
74,-1.50816734707635,-0.599258268799354,0.309650809477641,-1.1064,-0.5885,-0.0705,-0.9955,-0.4017,0.1921
75,-1.56780064763964,-0.621586634078019,0.324627379483605,-1.1768,-0.6227,-0.0685,-1.0627,-0.4336,0.1955
76,-1.51252375970849,-0.631366685160088,0.249790389388312,-1.1317,-0.5869,-0.0421,-0.9914,-0.4221,0.1472
77,-1.47536853230981,-0.573610332857828,0.328147866594152,-1.1905,-0.6626,-0.1347,-0.9843,-0.3973,0.1897
78,-1.44753565443429,-0.5335423590433,0.380450936347693,-1.3043,-0.7437,-0.1831,-0.9959,-0.3994,0.1971
79,-1.48697058240488,-0.538566011754255,0.409838558896367,-1.2403,-0.6944,-0.1485,-1.0779,-0.423,0.232
80,-1.5198955709859,-0.600246773607613,0.319402023770679,-1.6458,-0.9987,-0.3515,-1.0911,-0.455,0.1812
81,-1.58257328437975,-0.67491120451678,0.23275087534619,-1.6266,-1,-0.3734,-1.1325,-0.5177,0.097
82,-1.59740417979565,-0.718305210648813,0.160793758498026,-1.5692,-0.9528,-0.3364,-1.0954,-0.4951,0.1053
83,-1.57010457207316,-0.749099442794039,0.0719056864850831,-1.5036,-0.9135,-0.3235,-1.0395,-0.5016,0.0364
84,-1.379868281457,-0.686477835795379,0.00691260986623857,-1.4565,-0.9415,-0.4266,-0.7582,-0.3535,0.0513
85,-1.38064216133055,-0.693779868252409,-0.00691757517426673,-1.3954,-0.9064,-0.4175,-0.777,-0.3819,0.0131
86,-1.48602591301266,-0.735679101586103,0.0146677098404557,-1.3799,-0.8705,-0.361,-0.9779,-0.4995,-0.0211
87,-1.58665210879478,-0.734217285228143,0.118217538338494,-1.372,-0.8351,-0.2982,-1.1327,-0.5644,0.0038
88,-1.7243800853689,-0.852149422319028,0.020081240730847,-1.3215,-0.7799,-0.2384,-1.2197,-0.6275,-0.0352
89,-1.38118350371512,-0.62628366315587,0.12861617740338,-1.2541,-0.6702,-0.0864,-0.9635,-0.4681,0.0272
90,-1.47190448380673,-0.711266264525804,0.0493719547551245,-1.2994,-0.716,-0.1326,-1.0408,-0.5405,-0.0403
91,-1.40393552568357,-0.668832724195079,0.0662700772934127,-1.2084,-0.6501,-0.0918,-1.0352,-0.5538,-0.0725
92,-1.49404819599074,-0.716085959008228,0.0618762779742794,-1.2349,-0.666,-0.0972,-1.0832,-0.5592,-0.0352
93,-1.67342356296481,-0.754515655264156,0.164392252436499,-1.3241,-0.6997,-0.0754,-1.3884,-0.7038,-0.0192
94,-2.07359585913147,-0.954726402164705,0.164143054802063,-1.3641,-0.648,0.0681,-1.7125,-0.8673,-0.0221
95,-1.99625016148888,-0.915658188931324,0.164933783626236,-1.2558,-0.5385,0.1788,-1.6678,-0.8491,-0.0303
96,-1.86035425680347,-0.868200431124093,0.123953394555283,-1.1913,-0.5097,0.1719,-1.5247,-0.7873,-0.0499
97,-1.6313544892911,-0.682797848053218,0.265758793184667,-1.093,-0.4438,0.2054,-1.281,-0.5954,0.0902
98,-1.53388351678098,-0.616535784584877,0.300811947611225,-1.0169,-0.3859,0.245,-1.245,-0.5668,0.1114
99,-1.52940786618886,-0.564934490767138,0.399538884654583,-1.1233,-0.4796,0.1641,-1.2803,-0.5453,0.1898
100,-1.51074275618927,-0.568167585931866,0.374407584325541,-1.0136,-0.3839,0.2457,-1.2533,-0.5465,0.1604
101,-1.56516728744633,-0.719656957845577,0.125853371755174,-1.003,-0.3655,0.2719,-1.2738,-0.6608,-0.0478
102,-1.69068399312868,-0.823672563870278,0.0433388653881279,-1.0258,-0.3522,0.3214,-1.2781,-0.6964,-0.1147
103,-1.7022171439202,-0.824812553795328,0.052592036329542,-1.0266,-0.321,0.3845,-1.2412,-0.6456,-0.05
104,-1.57761962963912,-0.750202720279541,0.0772141890800352,-1.0697,-0.3396,0.3906,-1.201,-0.6262,-0.0514
105,-1.42129029597724,-0.677615473717392,0.0660593485424602,-1.042,-0.3849,0.2722,-1.0734,-0.5589,-0.0444
106,-1.41673410305534,-0.646498248082931,0.123737606889476,-1.1001,-0.4473,0.2054,-1.1489,-0.5894,-0.03
107,-1.43987820122042,-0.675622195599611,0.0886338100212025,-1.0726,-0.4035,0.2655,-1.1783,-0.6264,-0.0745
108,-1.5714677126765,-0.773541425880349,0.0243848609157989,-1.0057,-0.3099,0.3858,-1.2157,-0.6546,-0.0934
109,-1.28153528820568,-0.57986769616733,0.12179989587102,-0.9033,-0.2725,0.3584,-1.0339,-0.5543,-0.0748
110,-1.34277337601461,-0.630607889714172,0.0815575965862639,-0.9369,-0.3245,0.2879,-1.0117,-0.5382,-0.0647
111,-1.24297647902035,-0.47884589734286,0.285284684334626,-0.892,-0.3188,0.2544,-0.9983,-0.466,0.0663
112,-1.12319322346742,-0.4118477767491,0.299497669969224,-0.8565,-0.3157,0.225,-0.8991,-0.4125,0.0741
113,-1.0572941059769,-0.362893759580066,0.331506586816764,-0.8477,-0.3197,0.2082,-0.8593,-0.3828,0.0936
114,-0.941187753751262,-0.200603025130791,0.53998170348968,-0.8195,-0.286,0.2474,-0.8595,-0.3173,0.2249
115,-0.98338946262677,-0.219381201577798,0.544627059471175,-0.7811,-0.2422,0.2968,-0.8649,-0.3139,0.2371
116,-0.804082760124078,-0.0947237864568832,0.614635187210312,-0.7589,-0.2598,0.2393,-0.6502,-0.1836,0.283
117,-0.716343501613729,-0.0425676576651684,0.631208186283392,-0.6743,-0.154,0.3664,-0.5059,-0.1128,0.2804
118,-0.544181015342371,0.0382732170369094,0.62072744941619,-0.619,-0.1662,0.2866,-0.4047,-0.0709,0.2629
119,-0.437504547284177,0.0992369579437845,0.635978463171746,-0.5477,-0.1476,0.2525,-0.2902,0.0021,0.2944
120,-0.290670198149575,0.257797453592589,0.806265105334752,-0.4715,-0.1195,0.2325,-0.1524,0.1162,0.3848
121,-0.227382154408949,0.30919774305001,0.845777640508969,-0.4773,-0.0919,0.2935,-0.1662,0.123,0.4121
122,-0.236667639382148,0.296918384958659,0.830504409299467,-0.3993,-0.0587,0.2819,-0.1475,0.1186,0.3847
123,-0.0909125027080876,0.433312993614319,0.957538489936726,-0.3017,0.0709,0.4435,0.1135,0.2885,0.4635
124,0.119423486278644,0.585330894204038,1.05123830212943,-0.2791,0.1273,0.5337,0.3056,0.4147,0.5238
125,0.0943518710544893,0.58529051072196,1.07622915038943,-0.3335,0.0699,0.4733,0.3271,0.4373,0.5475
126,0.053088965817632,0.583332251808183,1.11357553779873,-0.3896,0.0109,0.4114,0.3648,0.4783,0.5918
127,0.0596015256919409,0.518122684803512,0.976643843915084,-0.4708,-0.0526,0.3656,0.24,0.3672,0.4945
128,-0.00706181262882254,0.458246573521837,0.923554959672497,-0.5202,-0.1128,0.2946,0.23,0.3544,0.4789
129,-0.0646393974114428,0.410744480332781,0.886128358077006,-0.4299,-0.0494,0.3312,0.1837,0.3109,0.4381
130,0.0855372316253348,0.463705444334981,0.841873657044627,-0.5003,-0.1002,0.3,0.2051,0.3323,0.4594
131,-0.0615760176412149,0.365187289268153,0.791950596177521,-0.4726,-0.0913,0.2901,0.1924,0.3202,0.448
132,-0.030911126575574,0.326063716908125,0.683038560391824,-0.4696,-0.1212,0.2273,0.1599,0.2799,0.3999
133,0.00873446479983538,0.34490677940568,0.681079094011524,-0.5089,-0.1695,0.1699,0.1302,0.2633,0.3964
134,0.00155307720315489,0.352016480473109,0.702479883743063,-0.5362,-0.2098,0.1165,0.1147,0.2464,0.378
135,-0.01979753836266,0.303333833655213,0.626465205673086,-0.3763,-0.0723,0.2317,0.0468,0.1712,0.2955
136,-0.0952375977054329,0.260463423663555,0.616164445032542,-0.2989,-0.0063,0.2863,0.0536,0.1797,0.3058
137,0.00228612656960278,0.276087843748494,0.549889560927384,-0.2924,-0.0254,0.2416,0.0588,0.1906,0.3224
138,0.0115251244879434,0.284430676160633,0.557336227833322,-0.3929,-0.1121,0.1686,0.0441,0.1773,0.3105
139,-0.0160507275048928,0.27889077730701,0.573832282118912,-0.4149,-0.1433,0.1283,0.0152,0.174,0.3328
140,0.034807973544012,0.29625644632706,0.557704919110107,-0.435,-0.1469,0.1412,0.0596,0.198,0.3364
141,-0.0861104415061459,0.1834168753747,0.452944192255546,-0.5498,-0.2321,0.0856,0.0151,0.157,0.299
142,-0.0464997219294772,0.179975885843152,0.406451493615781,-0.5166,-0.2081,0.1003,0.0035,0.1449,0.2863
143,-0.138137113097713,0.126046402244257,0.390229917586227,-0.391,-0.0891,0.2129,-0.0219,0.1133,0.2484
144,-0.317481762769239,-0.0479476734726536,0.221586415823932,-0.4146,-0.1249,0.1648,-0.089,0.0413,0.1715
145,-0.188439676792331,0.0471642243460837,0.282768125484499,-0.3992,-0.0501,0.299,-0.0731,0.0614,0.1958
146,-0.244768097814737,-0.00332888094595412,0.238110335922829,-0.426,-0.0831,0.2597,-0.1021,0.028,0.158
147,-0.200026586104867,-0.0164641478036314,0.167098290497604,-0.5102,-0.1575,0.1952,-0.0889,0.0397,0.1683
148,-0.109970723399897,0.0564976761500227,0.222966075699942,-0.6112,-0.2203,0.1706,-0.069,0.0695,0.208
149,-0.279205952246653,-0.0789907534032892,0.121224445440075,-0.6706,-0.283,0.1046,-0.118,0.0309,0.1798
150,-0.344354658222204,-0.132614653517792,0.0791253511866206,-0.6785,-0.2863,0.106,-0.1181,0.032,0.1821
151,-0.365257375309755,-0.14352606139556,0.0782052525186346,-0.7214,-0.2942,0.1331,-0.118,0.0318,0.1816
152,-0.389599547201543,-0.171197515979886,0.047204515241771,-0.7055,-0.2995,0.1065,-0.1211,0.0324,0.1858
153,-0.418103312157262,-0.224318992546668,-0.0305346729360753,-0.7535,-0.3497,0.0542,-0.167,-0.0184,0.1301
154,-0.541764049276253,-0.309361948042441,-0.0769598468086293,-0.8062,-0.4045,-0.0027,-0.1721,-0.0179,0.1363
155,-0.443208751063249,-0.281758993004091,-0.120309234944934,-0.8433,-0.4347,-0.0261,-0.2477,-0.0622,0.1234
156,-0.500394461723889,-0.335890624910897,-0.171386788097906,-0.7791,-0.3862,0.0067,-0.2397,-0.0541,0.1315
157,-0.660980650439417,-0.40904311174942,-0.157105573059423,-0.6563,-0.2919,0.0725,-0.2176,-0.0551,0.1075
158,-0.57348820377021,-0.335109438541332,-0.0967306733124531,-0.6356,-0.2397,0.1562,-0.2118,-0.0408,0.1301
159,-0.611581469982855,-0.356982568115134,-0.102383666247413,-0.6577,-0.2502,0.1573,-0.1807,0.005,0.1906
160,-0.713160542617591,-0.387965433829352,-0.0627703250411123,-0.6467,-0.2598,0.1272,-0.17,0.0057,0.1815
161,-0.473508533504467,-0.293315289134782,-0.113122044765097,-0.5783,-0.241,0.0962,-0.1739,0.001,0.1759
162,-0.44265670534525,-0.268941716283227,-0.0952267272212036,-0.6501,-0.2732,0.1036,-0.2238,-0.0455,0.1329
163,-0.396662309767988,-0.202409666045115,-0.00815702232224123,-0.6666,-0.2734,0.1198,-0.2488,-0.0697,0.1094
164,-0.534131923795792,-0.299062382934652,-0.0639928420735118,-0.6846,-0.2785,0.1276,-0.2335,-0.0697,0.0941
165,-0.381719900143414,-0.174527297803395,0.0326653045366236,-0.8108,-0.3608,0.0892,-0.1886,0.013,0.2146
166,-0.340846149363151,-0.144112104521223,0.0526219403207055,-0.779,-0.3223,0.1344,-0.1942,-0.0091,0.176
167,-0.179409940775145,0.00831295057003813,0.196035841915222,-0.8024,-0.3284,0.1456,-0.1178,0.091,0.2999
168,-0.105354737891956,0.0861881272972363,0.277730992486428,-0.7755,-0.309,0.1575,-0.0685,0.1492,0.3669
169,-0.247049118682603,-0.0352856191149101,0.176477880452783,-0.8287,-0.3589,0.111,-0.1424,0.0948,0.3319
170,-0.242700493987679,-0.0369639389786585,0.168772616030362,-0.7606,-0.3051,0.1503,-0.1444,0.0981,0.3406
171,-0.22054716678293,-0.0252497636851334,0.170047639412663,-0.6525,-0.2408,0.171,-0.1141,0.0827,0.2795
172,-0.180187003860229,0.0201536860474982,0.220494375955226,-0.5611,-0.1784,0.2042,-0.1022,0.0907,0.2836
173,-0.0819056858199333,0.0737914913131481,0.22948866844623,-0.6178,-0.2541,0.1097,-0.0571,0.1462,0.3495
174,-0.166004049780937,-0.00413152642671145,0.157740996927514,-0.7725,-0.337,0.0985,-0.0598,0.1569,0.3737
175,-0.229926602752499,-0.0633918503101935,0.103142902132112,-0.7665,-0.3888,-0.0111,-0.0956,0.123,0.3416
176,-0.207773615397382,-0.0127176396597909,0.1823383360778,-0.7512,-0.388,-0.0247,-0.0845,0.1151,0.3148
177,-0.217977165535454,-0.0379066088704522,0.142163947794549,-0.719,-0.3505,0.018,-0.0807,0.1275,0.3357
178,-0.225876085754246,-0.0494624594747534,0.126951166804739,-0.5996,-0.2673,0.065,-0.0569,0.098,0.2528
179,-0.195735247676774,-0.00344274980219902,0.188849748072376,-0.5373,-0.1974,0.1426,-0.0541,0.1037,0.2615
180,-0.187351856784716,-0.0100370880222582,0.1672776807402,-0.5525,-0.1939,0.1647,-0.053,0.0948,0.2426
181,0.0481382881707166,0.248587136304218,0.44903598443772,-0.4502,-0.0889,0.2724,0.0734,0.2281,0.3828
"""
df = pd.read_csv(StringIO(data_str))

# Extract ns_point_estimate for days 1 to 181
ns_point_estimate = df['ns_point_estimate'].values[:181]

# Monthly data as provided
monthly_data_str = """ns_lower_confidence band,ns_point_estimate,ns_upper_credible set,brw_lower_confidence band,brw_point_estimate,brw_upper_credible set,target_lower_confidence band,target_point_estimate,target_upper_credible set
0.418242065926147,1,1.58175793407385,-0.5781,0.1729,0.9238,0.0708,1,1.9292
-0.91853636928568,-0.118988325447046,0.680559718391588,-1.1018,-0.382,0.3378,-2.1802,-0.8698,0.4406
-1.06982431144894,-0.470371108089094,0.129082095270751,-1.4881,-0.7978,-0.1075,-1.0167,-0.3258,0.3652
-1.49876280636241,-0.669182226374466,0.16039835361348,-1.9742,-1,-0.0258,-1.9234,-0.9303,0.0629
-0.446649264430244,0.011906306363017,0.470461877156278,-0.6941,-0.2941,0.106,-0.4132,-0.0199,0.3734
-0.148084930128692,-0.0312948351696811,0.0854952597893293,-1.0762,-0.4416,0.1929,-0.182,0.1121,0.4062
-0.0651042738030072,0.180354694457085,0.425813662717177,-0.5783,-0.1046,0.369,0.111,0.4573,0.8037
-0.15896376465977,0.107181922820018,0.373327610299806,-0.584,-0.1367,0.3106,-0.2804,0.0735,0.4274
-0.0543161533133145,0.238116098198902,0.530548349711119,-0.6205,-0.1131,0.3943,0.0995,0.3977,0.6958
-0.330437123516202,-0.114829308396021,0.100778506724161,-0.8245,-0.1154,0.5937,-0.4467,-0.2796,-0.1124
-0.73369162784237,-0.489145353496491,-0.244599079150613,-1.5887,-0.6093,0.3701,-0.644,-0.449,-0.2541
-0.255500401392629,-0.0148296808539629,0.225841039684703,-0.2184,0.1053,0.4289,-0.5254,-0.212,0.1014
-0.342190109572495,0.0696046382850136,0.481399386142522,-0.2854,0.186,0.6574,-0.1968,0.2152,0.6273"""
monthly_df = pd.read_csv(StringIO(monthly_data_str))

# Extract first 12 periods of monthly ns_point_estimate
monthly_ns_point_estimate = monthly_df['ns_point_estimate'].values[:12]

# Parameters
m = 30  # Days per month
T_daily = len(ns_point_estimate)  # 181
T_monthly = 6  # Plot 6 periods

# Compute aggregated IRF
irf_monthly = np.zeros(T_monthly)
for T in range(T_monthly):
    start_idx = T * m
    end_idx = min(start_idx + m, T_daily)
    if end_idx > start_idx:
        irf_monthly[T] = np.mean(ns_point_estimate[start_idx:end_idx])
    else:
        irf_monthly[T] = 0

# Verify shapes
assert len(irf_monthly) == T_monthly, f"irf_monthly length: {len(irf_monthly)}"
assert len(monthly_ns_point_estimate[:T_monthly]) == T_monthly, f"monthly_ns_point_estimate length: {len(monthly_ns_point_estimate[:T_monthly])}"

# Plot aggregated IRF vs monthly data with monthly credible set
plt.figure(figsize=(10, 6))
# Aggregated daily IRF
plt.plot(range(0, T_monthly), irf_monthly, label='Aggregated Daily IRF', marker='o', color='black')
# Actual monthly IRF
plt.plot(range(0, T_monthly), monthly_ns_point_estimate[:T_monthly], label='Monthly IRF', color='blue', linestyle='--')
plt.fill_between(range(0, T_monthly), monthly_df['ns_lower_confidence band'].values[:T_monthly], 
                 monthly_df['ns_upper_credible set'].values[:T_monthly], color='blue', alpha=0.2)
plt.xlim(0, 5)  # Set x-axis from 0 to 5
plt.ylim(-1.75, 1.75)  # Set y-axis from -1.5 to 1.5
plt.legend()
plt.grid(True)
plt.savefig('aggregated_daily_vs_monthly_irf_NS.png')
plt.close()




# Parameters
m = 30  # Days per month
T_daily = len(df['brw_point_estimate'].values[:181])  # 181
T_monthly = 6  # Plot 6 periods

# Compute aggregated IRF
irf_monthly = np.zeros(T_monthly)
for T in range(T_monthly):
    start_idx = T * m
    end_idx = min(start_idx + m, T_daily)
    if end_idx > start_idx:
        irf_monthly[T] = np.mean(df['brw_point_estimate'].values[start_idx:end_idx])
    else:
        irf_monthly[T] = 0

# Extract monthly data
monthly_brw_point_estimate = monthly_df['brw_point_estimate'].values[:T_monthly]

# Verify shapes
assert len(irf_monthly) == T_monthly, f"irf_monthly length: {len(irf_monthly)}"
assert len(monthly_brw_point_estimate) == T_monthly, f"monthly_brw_point_estimate length: {len(monthly_brw_point_estimate)}"

# Plot aggregated IRF vs monthly data with monthly credible set
plt.figure(figsize=(10, 6))
# Aggregated daily IRF
plt.plot(range(0, T_monthly), irf_monthly, label='Aggregated Daily BRW IRF (Monthly)', marker='o', color='black')
# Actual monthly IRF
plt.plot(range(0, T_monthly), monthly_brw_point_estimate, label='Actual Monthly brw_point_estimate', color='blue', linestyle='--')
plt.fill_between(range(0, T_monthly), monthly_df['brw_lower_confidence band'].values[:T_monthly], 
                 monthly_df['brw_upper_credible set'].values[:T_monthly], color='blue', alpha=0.2, label='Monthly BRW Credible Set')
plt.title('Aggregated Daily BRW IRF vs Actual Monthly BRW IRF with Monthly Credible Set')
plt.xlabel('Period (t)')
plt.ylabel('Inflation')
plt.xlim(0, 5)  # Set x-axis from 0 to 5
plt.ylim(-1.5, 1.5)  # Set y-axis from -1.5 to 1.5
plt.legend()
plt.grid(True)
plt.savefig('aggregated_daily_vs_monthly_brw_irf_with_monthly_credible_set_t0.png')



# Parameters
m = 30  # Days per month
T_daily = len(df['target_point_estimate'].values[:181])  # 181
T_monthly = 6  # Plot 6 periods

# Compute aggregated IRF
irf_monthly = np.zeros(T_monthly)
for T in range(T_monthly):
    start_idx = T * m
    end_idx = min(start_idx + m, T_daily)
    if end_idx > start_idx:
        irf_monthly[T] = np.mean(df['target_point_estimate'].values[start_idx:end_idx])
    else:
        irf_monthly[T] = 0

# Extract monthly data
monthly_target_point_estimate = monthly_df['target_point_estimate'].values[:T_monthly]

# Verify shapes
assert len(irf_monthly) == T_monthly, f"irf_monthly length: {len(irf_monthly)}"
assert len(monthly_target_point_estimate) == T_monthly, f"monthly_target_point_estimate length: {len(monthly_target_point_estimate)}"

# Plot aggregated IRF vs monthly data with monthly credible set
plt.figure(figsize=(10, 6))
# Aggregated daily IRF
plt.plot(range(0, T_monthly), irf_monthly, label='Aggregated Daily IRF', marker='o', color='black')
# Actual monthly IRF
plt.plot(range(0, T_monthly), monthly_target_point_estimate, label='Monthly IRF', linestyle='--', color='blue')
plt.fill_between(range(0, T_monthly), monthly_df['target_lower_confidence band'].values[:T_monthly], 
                 monthly_df['target_upper_credible set'].values[:T_monthly], color='blue', alpha=0.2)
plt.xlim(0, 5)  # Set x-axis from 0 to 5
plt.ylim(-2, 2)  # Set y-axis from -1.5 to 1.5
plt.legend()
plt.grid(True)
plt.savefig('aggregated_daily_vs_monthly_target_irf.png')
plt.close()